{"version":3,"file":"js/app.2bd5740c.js","mappings":"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","sources":["webpack://intrigue-web/./src/App.vue","webpack://intrigue-web/./src/components/canvas/Canvas.vue","webpack://intrigue-web/./src/store/event.ts","webpack://intrigue-web/./src/store/sync.ts","webpack://intrigue-web/./src/store/undo.ts","webpack://intrigue-web/./src/store/utils.ts","webpack://intrigue-web/./src/store/index.ts","webpack://intrigue-web/./src/components/canvas/Node.vue","webpack://intrigue-web/./src/components/canvas/Node.vue?ed95","webpack://intrigue-web/./src/components/canvas/Cursor.vue","webpack://intrigue-web/./src/components/canvas/Cursor.vue?4f09","webpack://intrigue-web/./src/components/canvas/Canvas.vue?de33","webpack://intrigue-web/./src/components/menu/Menu.vue","webpack://intrigue-web/./src/state/index.ts","webpack://intrigue-web/./src/components/menu/Avatars.vue","webpack://intrigue-web/./src/components/menu/Avatars.vue?d291","webpack://intrigue-web/./src/components/menu/Menu.vue?767e","webpack://intrigue-web/./src/App.vue?7ccd","webpack://intrigue-web/./src/main.ts","webpack://intrigue-web/webpack/bootstrap","webpack://intrigue-web/webpack/runtime/chunk loaded","webpack://intrigue-web/webpack/runtime/compat get default export","webpack://intrigue-web/webpack/runtime/define property getters","webpack://intrigue-web/webpack/runtime/global","webpack://intrigue-web/webpack/runtime/hasOwnProperty shorthand","webpack://intrigue-web/webpack/runtime/make namespace object","webpack://intrigue-web/webpack/runtime/jsonp chunk loading","webpack://intrigue-web/webpack/startup"],"sourcesContent":["<template>\n    <Canvas />\n    <Menu />\n    <!-- <div v-if=\"keyboard['Meta+c']\">\n        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test\n    </div> -->\n</template>\n\n<script>\nimport getRandomFruitsName from \"random-fruits-name\";\n\nimport Canvas from \"./components/canvas/Canvas.vue\";\nimport Menu from \"./components/menu/Menu.vue\";\n\nimport { document } from \"./store\";\n// import { state } from \"./state\"\n\nexport default {\n    name: \"App\",\n    components: {\n        Menu,\n        Canvas,\n    },\n    data() {\n        return {\n            store: document.store,\n            document: document,\n        };\n    },\n\n    methods: {\n        broadcastUsername() {\n            const fruit = getRandomFruitsName(\"en\", { maxWords: 1 });\n            this.document.updateAwareness(\"name\", `Anonymous ${fruit}`);\n        }\n    },\n\n    mounted() {\n        this.broadcastUsername();\n    },\n};\n</script>\n\n<style>\n:root {\n    --text-color: #30383f;\n}\n\nhtml,\nbody {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    font-family: sans-serif;\n    font-size: 14px;\n    color: var(--text-color);\n    overscroll-behavior-x: none;\n    background: #f9f9f9;\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNScgaGVpZ2h0PScxNSc+CiAgPHJlY3Qgd2lkdGg9JzUwJyBoZWlnaHQ9JzUwJyBmaWxsPSIjRjlGOUY5IiAvPgogIDxjaXJjbGUgY3g9IjEiIGN5PSIxIiByPSIwLjgiIGZpbGw9IiNDQUNBQ0IiLz4KPC9zdmc+\");\n}\n\n#app {\n    width: 100%;\n    height: 100%;\n}\n</style>\n","<template>\n    <div class=\"canvas\" \n    :style=\"styles\"\n    @click=\"selection = []\"\n    @dblclick=\"newNode\">\n\n        <Node v-for=\"node in store.nodes\" :key=\"node.id\" :ref=\"node.id\"\n            :node=\"node\"\n            @mousedown=\"selectNode(node)\"\n            @click.stop\n            @drag=\"onNodeDrag\"\n            @drag-end=\"onNodeDragEnd\" />\n\n        <Cursor v-for=\"user in document.users\" :key=\"user.id\" :id=\"user.id\" :name=\"user.name\" :x=\"user.cursorX\" :y=\"user.cursorY\"/>\n\n    </div>\n</template>\n\n<script>\nimport { document, IntrigueTypes } from \"../../store\";\n\nimport Node from \"./Node.vue\";\nimport Cursor from \"./Cursor.vue\";\n\nexport default {\n    name: \"IntrigueCanvas\",\n    components: {\n        Node,\n        Cursor\n    },\n\n    props: {\n        \n    },\n\n    data() {\n        return {\n            document: document,\n            store: document.store,\n            x: 0, y: 0,\n            selection: [],\n        };\n    },\n\n    methods: {\n        newNode (event) {\n            this.document.commit('createNode', {\n                type: IntrigueTypes.Note,\n                content: '<p></p>',\n                x: event.clientX + this.x - 14,\n                y: event.clientY + this.y - 14\n            })\n        },\n\n        selectNode (node) {\n            this.selection = [node.id];\n        },\n\n        onNodeDrag (event) {\n            for (let nodeId of this.selection) {\n                const node = this.$refs[nodeId][0];\n                node.x += event.deltaX;\n                node.y += event.deltaY;\n            }\n        },\n\n        onNodeDragEnd (e) {\n            this.document.commit('updateNodes', {\n                id: [...this.selection],\n                by: {\n                    x: e.distX,\n                    y: e.distY\n                }\n            })\n        }\n    },\n\n    mounted () {\n        window.addEventListener('mousemove', e => {\n            this.document.updateAwareness(\"cursorX\", e.clientX - this.x);\n            this.document.updateAwareness(\"cursorY\", e.clientY - this.y);\n        })\n\n        window.addEventListener('mousewheel', e => {\n            console.log(e);\n            this.x -= e.deltaX / 2;\n            this.y -= e.deltaY / 2;\n            this.document.updateAwareness(\"x\", this.x);\n            this.document.updateAwareness(\"y\", this.y);\n        })\n        this.document.updateAwareness(\"selection\", []);\n    },\n\n    computed: {\n        styles () {\n            return {\n                transform: `translate(${this.x}px, ${this.y}px)`\n            }\n        }\n    },\n\n    watch: {\n        selection () {\n            this.document.updateAwareness(\"selection\", [...this.selection]);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.canvas {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>\n","import { createNanoEvents, Emitter, Unsubscribe } from 'nanoevents'\n\nexport class EventEmitter {\n    emitter: Emitter\n    constructor() {\n        this.emitter = createNanoEvents();\n    }\n\n    on(event: string, callback: (...args: any) => void): Unsubscribe {\n        return this.emitter.on(event, callback);\n    }\n\n    emit(event: string, data: object) {\n        this.emitter.emit(event, data);\n    }\n}","import { nanoid } from 'nanoid'\nimport * as Vue from \"vue\";\nimport { reactive } from \"vue\";\nimport { Doc } from \"yjs\"\nimport { enableVueBindings } from \"@syncedstore/core\";\n\nimport { syncedStore, getYjsValue } from \"@syncedstore/core\";\nimport { WebrtcProvider } from \"y-webrtc\";\nimport { IndexeddbPersistence } from \"y-indexeddb\";\n\n\nimport { EventEmitter } from \"./event\";\nimport * as T from \"./types\"\n\n\nenableVueBindings(Vue);\n\nexport class SyncedDocument extends EventEmitter {\n    id: T.DocumentId\n\n    userId: T.UserId\n    users: T.UserRegistry\n    localUser: T.User\n\n    store: any\n\n    syncProvider: WebrtcProvider\n    saveProvider: IndexeddbPersistence\n\n    constructor(storeStructure: any) {\n        super();\n\n        this.users = reactive({} as T.UserRegistry);\n        \n        const documentId = new URLSearchParams(window.location.search).get('id');\n        this.id = documentId ? documentId : nanoid();\n        this.store = syncedStore(storeStructure);\n\n        const doc = getYjsValue(this.store) as Doc;\n        this.syncProvider = new WebrtcProvider(this.id, doc);\n        this.saveProvider = new IndexeddbPersistence(this.id, doc);\n\n        this.syncProvider.awareness.on('change', this.__handleChanges.bind(this));\n\n        // Generate a random user id and name, then update the awareness.\n        this.userId = nanoid();\n        this.syncProvider.awareness.setLocalStateField('id', this.userId);\n\n        this.store.metadata.id = this.id;\n        this.store.metadata.name = 'Untitled';\n\n        this.localUser = reactive(this.users[this.userId]) as T.User;\n\n        console.warn = () => {};    // Supress the numerous warnings generated by SyncedStore.\n    }\n\n    updateAwareness(key: string, value: any): void {\n        this.syncProvider.awareness.setLocalStateField(key, value);\n    }\n\n    __handleChanges(): void {\n        const awarenessInfo = this.syncProvider.awareness.getStates().values();\n        const onlineUsers = new Set();\n        const offlineUsers = new Set(Object.keys(this.users));\n\n        for (const user of awarenessInfo) {\n            onlineUsers.add(user.id);\n            offlineUsers.delete(user.id);\n\n            if (!this.users[user.id]) this.users[user.id] = {} as T.User;\n            for (const [key, value] of Object.entries(user)) {\n                this.users[user.id][key] = value;\n            }\n        }\n\n        for (const userId of offlineUsers) {\n            delete this.users[userId];\n        }\n    }\n}","import { SyncedDocument } from './sync'\n\n\ntype ActionName = string\ntype ActionRegistry = {\n    [key: ActionName]: ActionName\n}\n\ntype HistoryItem = {\n    action: ActionName, \n    inverseParams: object\n}\ntype HistoryStack = Array<HistoryItem>\n\nexport class ReversibleDocument extends SyncedDocument {\n    inverses: ActionRegistry\n    undoStack: HistoryStack\n    redoStack: HistoryStack\n\n    constructor(storeStructure: any) {\n        super(storeStructure);\n\n        this.inverses = {} as ActionRegistry;\n        this.undoStack = [] as HistoryStack;\n        this.redoStack = [] as HistoryStack;\n    }\n\n    registerInverses (actionA: ActionName, actionB: ActionName) {\n        this.inverses[actionA] = actionB\n        this.inverses[actionB] = actionA\n    }\n\n    commit (action: ActionName, params: object): void {\n        let inverseParams;\n        const actionFunction = (this as {[key: string]: any})[action].bind(this);\n        if (actionFunction !== undefined) {\n            inverseParams = actionFunction(params)\n        } else {\n            console.error(`There is no method called ${action}() on this object:`, this);\n            return;\n        }\n\n        if (!inverseParams) return;\n\n        this.undoStack.push({\n            action: action, inverseParams: inverseParams\n        })\n        this.redoStack = [] as HistoryStack;\n    }\n\n    popStackItem(fromStack: HistoryStack, toStack: HistoryStack): void {\n        if (fromStack.length <= 0) return;\n        const item = fromStack.pop();\n        if (!item) return;\n\n        const inverseAction = this.inverses[item.action];\n        if (!inverseAction) {\n            console.error(`There is no registered inverse for ${item.action}().`);\n            return;\n        }\n\n        let inverseParams: object;\n        const actionFunction = (this as {[key: string]: any})[inverseAction].bind(this);\n        if (actionFunction !== undefined) {\n            inverseParams = actionFunction(item.inverseParams);\n        } else {\n            console.error(`There is no method called ${inverseAction}() on this object:`, this);\n            return;\n        }\n        \n        toStack.push({\n            action: inverseAction, inverseParams: inverseParams\n        })\n    }\n\n    undo () {\n        this.popStackItem(this.undoStack, this.redoStack);\n    }\n\n    redo () {\n        this.popStackItem(this.redoStack, this.undoStack);\n    }\n}","export function propByPath(object: {[key: string]: any}, path: string, value?: any) {\n    const parts = path.split('.');\n    const limit = parts.length - 1;\n    for (let i = 0; i < limit; ++i) {\n        const key = parts[i];\n        object = object[key] ?? (object[key] = {});\n    }\n    const key = parts[limit];\n    if (value !== undefined) {\n        object[key] = value;\n    }\n    return object[key];\n}","import { nanoid } from 'nanoid'\nimport { ReversibleDocument } from './undo'\nimport { propByPath } from './utils'\nimport * as T from './types'\n\nexport class IntrigueTypes {\n    static Note = 'note';\n    static Reference = 'reference';\n    static Area = 'area';\n}\n\nexport class IntrigueDocument extends ReversibleDocument {\n    constructor() {\n        super({\n            metadata: {},\n            nodes: {} as {[key: T.NodeId]: T.Node},\n            links: {} as {[key: T.LinkId]: T.Link},\n\n            fragment: \"xml\"\n        });\n\n        this.registerInverses('createNode', 'deleteNode');\n        this.registerInverses('createNodes', 'deleteNodes');\n        this.registerInverses('updateNode', 'updateNode');\n        this.registerInverses('snapNode', 'unsnapNode');\n        this.registerInverses('createLink', 'removeLink');\n    }\n\n    // Note: each function below should return its inverse parameters\n    createNode(nodeItem: T.NodeInfo): T.NodeId {\n        const nodeId = nodeItem.id ? nodeItem.id : nanoid();\n        const node = {\n            id: nodeId,\n            type: nodeItem.type,\n            content: nodeItem.content,\n            links: [],\n            parent: null,\n            children: [],\n            x: nodeItem.x ? nodeItem.x : 0,\n            y: nodeItem.y ? nodeItem.y : 0,\n        } as T.Node;\n        if (nodeItem.links) {\n            for (const link of nodeItem.links) {\n                this.createLink(link);\n            }\n        }\n        if (nodeItem.children) {\n            for (const child of nodeItem.children) {\n                this.snapNode(child);\n            }\n        }\n        this.store.nodes[nodeId] = node;\n        return nodeId;\n    }\n\n    createNodes(nodeItems: Array<T.NodeInfo>): Array<T.NodeId> {\n        const nodeIds = [];\n        const newLinks = [];\n        const newChildren = [];\n        for (const item of nodeItems) {\n            // Extract all links to be created.\n            // This is to delay link creation until all nodes are first created.\n            if (item.links) {\n                for (const link of item.links) newLinks.push(link);\n                delete item.links;\n            }\n            // Extract all children to be snapped.\n            // Same as above.\n            if (item.children) {\n                for (const child of item.children) newChildren.push(child);\n                delete item.children;\n            }\n\n            const nodeId = this.createNode(item);\n            nodeIds.push(nodeId);\n        }\n\n        for (const link of newLinks) {\n            this.createLink(link);\n        }\n\n        for (const pairInfo of newChildren) {\n            this.snapNode(pairInfo);\n        }\n\n        return nodeIds;\n    }\n\n    deleteNode(nodeId: T.NodeId): T.Node {\n        const node = { ...this.store.nodes[nodeId] };\n        const removedLinks = [];\n        const unsnappedChildren = [];\n        for (const linkId of node.links) {\n            removedLinks.push(this.removeLink(linkId));\n        }\n        for (const childId of node.children) {\n            unsnappedChildren.push(this.unsnapNode({\n                source: node.id,\n                target: childId\n            }));\n        }\n        node.links = removedLinks;\n        node.children = unsnappedChildren;\n        delete this.store.nodes[nodeId];\n        return node;\n    }\n\n    deleteNodes(nodeIds: Array<T.NodeId>): Array<T.Node> {\n        const nodes = [];\n        for (const nodeId of nodeIds) {\n            const node = this.deleteNode(nodeId);\n            nodes.push(node);\n        }\n        return nodes;\n    }\n\n    updateNode(update: T.UpdateInfo): T.UpdateInfo {\n        const node = this.store.nodes[update.id];\n        const inverseParams = {\n            id: update.id\n        } as T.UpdateInfo;\n        // Update parameters by a number\n        if (update.by) {\n            inverseParams.by = {};\n            for (const [path, value] of Object.entries(update.by)) {\n                const originalValue = propByPath(node, path);\n                if (typeof originalValue !== 'number') {\n                    console.error('Only number properties can be updated by a number!');\n                    continue;\n                }\n                propByPath(node, path, originalValue + value);\n                inverseParams.by[path] = -originalValue;\n            }\n        }\n        // Set parameters to values\n        if (update.set) {\n            inverseParams.set = {};\n            for (const [path, value] of Object.entries(update.set)) {\n                const originalValue = propByPath(node, path);\n                propByPath(node, path, value);\n                inverseParams.set[path] = originalValue;\n            }\n        }\n        return inverseParams;\n    }\n\n    updateNodes(update: T.MultipleUpdateInfo): T.MultipleUpdateInfo {\n        const inverseParams = {\n            id: [...update.id]\n        } as T.MultipleUpdateInfo;\n\n        if (update.by) {\n            inverseParams.by = {};\n            for (const [path, value] of Object.entries(update.by)) {\n                inverseParams.by[path] = -value;\n            }\n            for (const nodeId of update.id) {\n                this.updateNode({\n                    id: nodeId, by: update.by\n                } as T.UpdateInfo)\n            }\n        }\n\n        if (update.set) {\n            console.error('Cannot set multiple values. Currently only updating multiple nodes by value is supported.');\n        }\n\n        return inverseParams;\n    }\n\n    snapNode(nodes: T.NodePair): T.NodePair | Boolean {\n        const inverseParams = {} as T.NodePair;\n        if (!nodes.source || !nodes.target) return false;\n        const parent = this.store.nodes[nodes.source];\n        const child = this.store.nodes[nodes.target];\n\n        // Areas can have multiple children\n        if (parent.type === IntrigueTypes.Area) {\n            parent.children.push(nodes.target);\n            //Remove potential duplicates\n            parent.children.filter(\n                (item: object, i: object) => parent.children.indexOf(item) === i\n            );\n            child.parent = parent.id;\n\n            inverseParams.source = nodes.source;\n            inverseParams.target = nodes.target;\n\n            // Other nodes may only have one child.\n        } else if (parent.children.length === 0) {\n            parent.children.push(nodes.target);\n            //Remove potential duplicates\n            parent.children.filter(\n                (item: object, i: object) => parent.children.indexOf(item) === i\n            );\n            child.parent = parent.id;\n\n            inverseParams.source = nodes.source;\n            inverseParams.target = nodes.target;\n        }\n        return inverseParams.source ? inverseParams : false;\n    }\n\n    unsnapNode(nodes: T.NodePair) {\n        const inverseParams = {} as T.NodePair;\n        if (!nodes.source || !nodes.target) return false;\n        const parent = this.store.nodes[nodes.source];\n        const child = this.store.nodes[nodes.target];\n\n        const childIndex = parent.children.indexOf(nodes.target);\n        if (childIndex > -1) {\n            parent.children.splice(childIndex, 1);\n            child.parent = null;\n            inverseParams.source = nodes.source;\n            inverseParams.target = nodes.target;\n        }\n\n        return inverseParams.source ? inverseParams : false;\n    }\n\n    createLink(params: T.Link): T.LinkId {\n        const source = this.store.nodes[params.source];\n        const target = this.store.nodes[params.target];\n\n        const linkId = params.id ? params.id : nanoid();\n        const link = {\n            id: linkId,\n            source: params.source,\n            target: params.target\n        }\n        this.store.links[linkId] = link;\n\n        source.links.push(linkId);\n        source.links.filter((item: object, i: object) => source.links.indexOf(item) === i);\n        target.links.push(linkId);\n        target.links.filter((item: object, i: object) => target.links.indexOf(item) === i);\n\n        return linkId;\n    }\n\n    removeLink(linkId: T.LinkId): T.Link {\n        const link = { ...this.store.links[linkId] } as T.Link;\n        const source = this.store.nodes[link.source];\n        const target = this.store.nodes[link.target];\n\n        source.links.splice(source.links.indexOf(linkId), 1);\n        target.links.splice(target.links.indexOf(linkId), 1);\n\n        delete this.store.links[linkId];\n        return link;\n    }\n\n}\n\nexport const document = new IntrigueDocument();","<template>\n    <div class=\"node noselect\" ref=\"node\"\n        :class=\"classes\"\n        :style=\"styles\">\n\n        {{ node.content }}\n\n    </div>\n</template>\n\n<script>\nimport Gesto from \"gesto\";\n\nimport { document } from \"../../store\";\n\nexport default {\n    name: \"IntrigueNode\",\n\n    props: {\n        node: Object\n    },\n\n    data() {\n        return {\n            document: document,\n            gesto: null,\n            x: this.node.x,\n            y: this.node.y,\n        };\n    },\n\n    mounted() {\n        this.selection = this.document.users[this.document.userId].selection;\n\n        this.getso = new Gesto(this.$refs.node, {\n            container: window,\n            pinchOutside: true,\n        })\n        .on(\"drag\", (e) => {\n            this.$emit(\"drag\", e);\n        })\n        .on(\"dragEnd\", (e) => {\n            this.$emit(\"drag-end\", e);\n        });\n    },\n\n    computed: {\n        classes () {\n            return {\n                'selected': this.selectedByCurrentUser,\n                'remote-selected': this.selectedByRemoteUsers\n            }\n        },\n\n        styles () {\n            return {\n                '--bg-color': 'rgb(250, 248, 229)',\n                '--border-color': 'rgb(233, 183, 109)',\n                'transform': `translate(${this.x}px, ${this.y}px)`\n            }\n        },\n\n        selectedByCurrentUser () {\n            return this.document.localUser.selection.includes(this.node.id);\n        },\n\n        selectedByRemoteUsers () {\n            for (let [userId, userData] of Object.entries(this.document.users)) {\n                if (userId === this.document.userId) continue;\n                if (userData.selection.includes(this.node.id)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    },\n\n    watch: {\n        \"node.x\": function () {\n            this.x = this.node.x;\n        },\n        \"node.y\": function () {\n            this.y = this.node.y;\n        }\n    },\n};\n</script>\n\n<style>\n.node {\n    position: absolute;\n    top: 0;\n    left: 0;\n    font-size: 0.8rem;\n\n    border-radius: 1rem;\n    padding: 0.3rem 0.6rem;\n    word-wrap: break-word;\n    margin: 2px;\n    background: var(--bg-color);\n    border: 1px solid var(--border-color);\n\n    cursor: pointer;\n}\n\n.noselect {\n  -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Old versions of Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome, Edge, Opera and Firefox */\n}\n\n.selected {\n    margin: 1px;\n    border: 2px solid red;\n}\n\n.remote-selected {\n    margin: 1px;\n    border: 2px solid blue;\n    pointer-events: none;\n}\n</style>\n","import { render } from \"./Node.vue?vue&type=template&id=04cb02c5\"\nimport script from \"./Node.vue?vue&type=script&lang=js\"\nexport * from \"./Node.vue?vue&type=script&lang=js\"\n\nimport \"./Node.vue?vue&type=style&index=0&id=04cb02c5&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div\n        class=\"cursor\"\n        v-if=\"document.localUser.id !== id\"\n        :style=\"{\n            transform: `translate(${x}px, ${y}px)`,\n        }\"\n    >\n        <div class=\"arrow\"></div>\n        <Avatar class=\"avatar\" variant=\"beam\" :name=\"name\" :size=\"20\" />\n    </div>\n</template>\n\n<script>\nimport { document } from \"../../store\";\n\nimport Avatar from \"vue-boring-avatars\";\n\nexport default {\n    name: \"IntrigueCursor\",\n    components: { Avatar },\n    props: {\n        id: String,\n        name: String,\n        x: Number,\n        y: Number,\n    },\n\n    data() {\n        return {\n            document: document\n        };\n    },\n};\n</script>\n\n<style scoped>\n.cursor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 20px;\n    height: 20px;\n}\n\n.arrow {\n    width: 20px;\n    height: 24px;\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMDdfMjgpIj4KPHBhdGggZD0iTTEwLjExNDEgMi43NjUyMUMxMC44MzMgMS4yMjgzNCAxMy4wMTg1IDEuMjI4MzUgMTMuNzM3NCAyLjc2NTIyTDE5LjkyMTEgMTUuOTg1OUMyMC42NzAxIDE3LjU4NzQgMTkuMTExNCAxOS4zMjgyIDE3LjM5MTUgMTguOTE4OEMxMy40NjUgMTcuOTg0MSAxMC4yNzkgMTcuOTc5OCA2LjUxMTc2IDE4Ljg3NTFDNC43ODI2OSAxOS4yODYgMy4yMDQ3OSAxNy41Mzc0IDMuOTU3NzYgMTUuOTI3NUwxMC4xMTQxIDIuNzY1MjFaIiBmaWxsPSIjMzAzODNGIi8+CjxwYXRoIGQ9Ik0xMi44MzE2IDMuMTg4ODlMMTkuMDE1MiAxNi40MDk2QzE5LjM2NDQgMTcuMTU2MSAxOC42MzQ3IDE4LjE4NjggMTcuNjIzMSAxNy45NDZDMTMuNTQ4NyAxNi45NzYxIDEwLjIwNDIgMTYuOTY5OCA2LjI4MDU1IDE3LjkwMjJDNS44MTM0IDE4LjAxMzIgNS4zNTM0NSAxNy44MzggNS4wNTQ3NyAxNy40OTg1QzQuNzYyMDEgMTcuMTY1OCA0LjY3OTEyIDE2Ljc0NTYgNC44NjM1NyAxNi4zNTEyTDExLjAxOTkgMy4xODg4OUMxMS4zNzk0IDIuNDIwNDYgMTIuNDcyMSAyLjQyMDQ1IDEyLjgzMTYgMy4xODg4OVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMTA3XzI4IiB4PSIwLjc2NDg5MyIgeT0iMC42MTI1NjQiIHdpZHRoPSIyMi4zNDg5IiBoZWlnaHQ9IjIzLjM2NjgiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iMiIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjUiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTA3XzI4Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzEwN18yOCIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K\");\n    transform: translate(-6px, -2px) rotate(-30deg);\n}\n\n.avatar {\n    transform: translate(4px, -10px);\n    border: 2px solid white;\n    border-radius: 100%;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);\n}\n</style>\n","import { render } from \"./Cursor.vue?vue&type=template&id=d0bb4c60&scoped=true\"\nimport script from \"./Cursor.vue?vue&type=script&lang=js\"\nexport * from \"./Cursor.vue?vue&type=script&lang=js\"\n\nimport \"./Cursor.vue?vue&type=style&index=0&id=d0bb4c60&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d0bb4c60\"]])\n\nexport default __exports__","import { render } from \"./Canvas.vue?vue&type=template&id=fa2674b4&scoped=true\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js\"\n\nimport \"./Canvas.vue?vue&type=style&index=0&id=fa2674b4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fa2674b4\"]])\n\nexport default __exports__","<template>\n    <div class=\"menu\">\n        <div>\n            <input type=\"text\" ref=\"title\" class=\"align-left\" \n                @mousedown=\"send({type: 'editing title'})\"\n                @blur=\"send({type: 'stop editing title'})\"\n                @key=\"updateTitleWidth\">\n\n            <span class=\"state align-left\">\n                {{state.value}}\n            </span>\n            <span class=\"sharing align-right\">\n                <Avatars />\n                <button @click=\"copyShareLink\">\n                    {{buttonText}}\n                </button>\n            </span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { document } from \"../../store\";\nimport { intrigueMachine } from \"../../state\"\nimport { useMachine } from '@xstate/vue';\n\nimport { copy } from 'iclipboard';\nimport Avatars from \"./Avatars.vue\";\n\nexport default {\n    name: \"IntrigueMenu\",\n    components: {\n        Avatars\n    },\n    data() {\n        return {\n            store: document.store,\n            document: document,\n            buttonText: 'Copy Link',\n            buttonTimer: null\n        };\n    },\n\n    methods: {\n        copyShareLink () {\n            copy(this.sharingUrl);\n            this.buttonText = 'Copied!'\n            if (this.buttonTimer) {\n                clearTimeout(this.buttonTimer);\n                this.buttonTimer = null;\n            }\n            this.buttonTimer = setTimeout(() => {\n                this.buttonText = 'Copy Link';\n                this.buttonTimer = null;\n            }, 1000);\n        }\n    },\n\n    setup () {\n        const { state, send } = useMachine(intrigueMachine);\n        return { state, send };\n    },\n\n    mounted () {\n        this.$refs.title.value = this.store.metadata.name;\n        this.$refs.title.addEventListener('blur', () => {\n            this.store.metadata.name = this.$refs.title.value;\n        })\n\n        this.$refs.title.addEventListener('keydown', () => {\n            this.store.metadata.name = this.$refs.title.value;\n            this.$refs.title.style.width = `${this.$refs.title.value.length}ch`;\n        })\n        this.$refs.title.style.width = `${this.$refs.title.value.length}ch`;\n    },\n\n    computed: {\n        sharingUrl() {\n            return `${window.location.origin}/?id=${this.store.metadata.id}`;\n        },\n    },\n\n    watch: {\n        'store.metadata.name': function () {\n            this.$refs.title.value = this.store.metadata.name;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.align-left {\n\tfloat: left;\n}\n\n.align-right {\n\tfloat: right;\n}\n\n.menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    padding: 1rem;\n    margin-right: 3rem;\n    text-align: middle;\n    background: transparent;\n}\n/* \n.menu:hover {\n    background: rgb(230,230,230);\n    background: linear-gradient(180deg, rgba(230,230,230,1) 0%, rgba(249,249,249,0) 100%);\n} */\n\ninput[type=text] {\n    border: none;\n    font-size: 1.3rem;\n    font-weight: bold;\n    background: transparent;\n    vertical-align: top;\n    color: var(--text-color);\n}\n\nbutton {\n    display: inline-block;\n    width: 6.5rem;\n    font-size: 12px;\n    line-height: 1.6rem;\n    border: none;\n    border-radius: 1rem;\n    padding-left: 1rem;\n    padding-right: 1rem;\n    margin-right: 2rem;\n    cursor: pointer;\n    background: #e0e0e0;\n    vertical-align: top;\n    transition: all 0.1s ease-in-out;\n    color: var(--text-color);\n}\n\nbutton:hover {\n    background: #d0d0d0;\n}\n\nbutton:active {\n    background: #bbb;\n}\n\n.state {\n    line-height: 1rem;\n    padding: 0.3rem 1rem;\n    border-radius: 0.3rem;\n    color: white;\n    background: #cc2377;\n    margin-left: 1rem;\n}\n</style>\n","import { reactive } from 'vue'\nimport { createMachine, interpret } from 'xstate';\nimport { assign } from 'xstate/lib/actions';\n\n\nconst ViewingState = {\n    initial: 'Idle',\n    states: {\n        Idle: {\n            on: {\n                'editing title': 'TitleEditing',\n                'click on node': '#Intrigue.Arranging'\n            }\n        },\n    \n        TitleEditing: {\n            on: { \"stop editing title\": \"Idle\" },\n        },\n    }\n}\n\nconst ArrangingState = {\n    initial: 'Selected',\n    states: {\n        Selected: {\n            on: {\n                'click on empty canvas': '#Intrigue.Viewing',\n                'drag node handle': 'Resizing'\n            }\n        },\n\n        Resizing: {\n            on: {\n                'drag end': 'Selected'\n            }\n        }\n    }\n}\n\nexport const intrigueMachine = createMachine({\n    id: 'Intrigue',\n    initial: 'Viewing',\n    states: {\n        Viewing: { ...ViewingState },\n        Arranging: {...ArrangingState}\n    }\n});\n\nexport const state = interpret(intrigueMachine).start();","<template>\n    <span class=\"avatars\">\n        <Popper\n            class=\"popper\"\n            v-for=\"user in document.users\"\n            :key=\"user.id\"\n            :content=\"user.id === document.userId ? user.name + ' (Me)' : user.name\"\n            :hover=\"true\"\n        >\n            <Avatar\n                class=\"avatar\"\n                variant=\"beam\"\n                :name=\"user.name\"\n                :size=\"25\"\n            />\n        </Popper>\n    </span>\n</template>\n\n<script>\nimport { document } from \"../../store\";\nimport Avatar from \"vue-boring-avatars\";\nimport Popper from \"vue3-popper\";\n\nexport default {\n    name: \"IntrigueAvatars\",\n    components: {\n        Avatar,\n        Popper,\n    },\n    data() {\n        return {\n            store: document.store,\n            document: document,\n            tooltipText: null,\n            tooltipX: 0,\n        };\n    },\n\n    methods: {},\n\n    mounted() {},\n\n    computed: {},\n\n    watch: {},\n};\n</script>\n\n<style scoped>\n.avatars {\n    margin-right: 1rem;\n    transform: translate(0, 10px);\n}\n\n.avatar {\n    display: inline-block;\n    vertical-align: bottom;\n    margin-right: 0.4rem;\n    cursor: pointer;\n}\n\n.popper {\n    font-size: 0.8rem;\n    cursor: default;\n}\n</style>\n","import { render } from \"./Avatars.vue?vue&type=template&id=564022fb&scoped=true\"\nimport script from \"./Avatars.vue?vue&type=script&lang=js\"\nexport * from \"./Avatars.vue?vue&type=script&lang=js\"\n\nimport \"./Avatars.vue?vue&type=style&index=0&id=564022fb&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-564022fb\"]])\n\nexport default __exports__","import { render } from \"./Menu.vue?vue&type=template&id=2bbe52b9&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&lang=js\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=2bbe52b9&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2bbe52b9\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=781cc7d0\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=781cc7d0&lang=css\"\n\nimport exportComponent from \"/Users/shauna/Development/intrigue-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkintrigue_web\"] = self[\"webpackChunkintrigue_web\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1251); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_Canvas","_component_Menu","_createElementBlock","class","style","$options","onClick","$data","onDblclick","_Fragment","_renderList","nodes","node","_createBlock","_component_Node","key","id","ref","onMousedown","onDrag","onDragEnd","users","user","_component_Cursor","name","x","cursorX","y","cursorY","EventEmitter","constructor","this","emitter","createNanoEvents","on","event","callback","emit","data","enableVueBindings","Vue","SyncedDocument","storeStructure","super","reactive","documentId","URLSearchParams","window","location","search","get","nanoid","store","syncedStore","doc","getYjsValue","syncProvider","WebrtcProvider","saveProvider","IndexeddbPersistence","awareness","__handleChanges","bind","userId","setLocalStateField","metadata","localUser","console","warn","updateAwareness","value","awarenessInfo","getStates","values","onlineUsers","Set","offlineUsers","Object","keys","add","delete","entries","ReversibleDocument","inverses","undoStack","redoStack","registerInverses","actionA","actionB","commit","action","params","inverseParams","actionFunction","undefined","push","error","popStackItem","fromStack","toStack","length","item","pop","inverseAction","undo","redo","propByPath","object","path","parts","split","limit","i","IntrigueTypes","IntrigueDocument","links","fragment","createNode","nodeItem","nodeId","type","content","parent","children","link","createLink","child","snapNode","createNodes","nodeItems","nodeIds","newLinks","newChildren","pairInfo","deleteNode","removedLinks","unsnappedChildren","linkId","removeLink","childId","unsnapNode","source","target","deleteNodes","updateNode","update","by","originalValue","set","updateNodes","Area","filter","indexOf","childIndex","splice","document","$props","props","gesto","mounted","selection","getso","Gesto","$refs","container","pinchOutside","e","$emit","computed","classes","selectedByCurrentUser","selectedByRemoteUsers","styles","includes","userData","watch","__exports__","_createElementVNode","_hoisted_1","_component_Avatar","variant","size","components","Avatar","String","Number","Node","Cursor","methods","newNode","Note","clientX","clientY","selectNode","onNodeDrag","deltaX","deltaY","onNodeDragEnd","distX","distY","addEventListener","log","transform","$setup","onBlur","onKey","_ctx","_toDisplayString","_component_Avatars","ViewingState","initial","states","Idle","TitleEditing","ArrangingState","Selected","Resizing","intrigueMachine","createMachine","Viewing","Arranging","interpret","start","_component_Popper","hover","Popper","tooltipText","tooltipX","Avatars","buttonText","buttonTimer","copyShareLink","copy","sharingUrl","clearTimeout","setTimeout","setup","state","send","useMachine","title","width","origin","Menu","Canvas","broadcastUsername","fruit","getRandomFruitsName","maxWords","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","__webpack_exports__"],"sourceRoot":""}