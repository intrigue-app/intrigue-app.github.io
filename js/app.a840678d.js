(function(){"use strict";var e={5399:function(e,t,a){var n=a(9242),r=a(3396);function i(e,t){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var o=a(89);const d={},u=(0,o.Z)(d,[["render",i]]);var s=u,c=a(678),l=a(7139);const m=(0,r._)("b",null,"Intrigue",-1),f={class:"content",style:{height:"90%",display:"flex","flex-flow":"row nowrap",gap:"1rem"}},p=(0,r.Uk)(" Documents "),h=(0,r.Uk)(" Trash "),v={style:{"flex-grow":"1",display:"flex","flex-flow":"column nowrap"}},g=(0,r.Uk)(" New literature map "),w=(0,r.Uk)(" Import file ");function b(e,t,a,n,i,o){const d=(0,r.up)("va-button"),u=(0,r.up)("va-navbar-item"),s=(0,r.up)("Avatar"),c=(0,r.up)("va-avatar"),b=(0,r.up)("va-popover"),y=(0,r.up)("va-navbar"),k=(0,r.up)("va-icon"),D=(0,r.up)("va-sidebar-item-title"),_=(0,r.up)("va-sidebar-item-content"),C=(0,r.up)("va-sidebar-item"),W=(0,r.up)("va-sidebar"),S=(0,r.up)("va-input"),V=(0,r.up)("va-button-group"),Z=(0,r.up)("Documents");return(0,r.wg)(),(0,r.iD)("div",{class:"home",style:(0,l.j5)({background:e.isDark?"var(--va-dark)":"var(--va-background)"})},[(0,r.Wm)(y,{class:"nav",color:e.isDark?"dark":"background"},{left:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{flat:"",icon:e.minimizeSidebar?"menu":"menu_open",onClick:t[0]||(t[0]=t=>e.minimizeSidebar=!e.minimizeSidebar)},null,8,["icon"])])),_:1})])),center:(0,r.w5)((()=>[m])),right:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,{message:"Shauna Zhang",color:"gray"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{size:37},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"avatar",variant:"beam",name:"Shauna Zhang"})])),_:1})])),_:1})])),_:1})])),_:1},8,["color"]),(0,r._)("div",f,[(0,r.Wm)(W,{textColor:"dark",style:(0,l.j5)([{flex:"0 0"},{"flex-basis":e.minimizeSidebar?"auto":"15rem"}]),minimized:e.minimizeSidebar,minimizedWidth:"64px"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,{active:"documents"===e.sidebar,onClick:t[1]||(t[1]=t=>e.sidebar="documents")},{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k,{name:"dashboard"}),e.minimizeSidebar?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(D,{key:0},{default:(0,r.w5)((()=>[p])),_:1}))])),_:1})])),_:1},8,["active"]),(0,r.Wm)(C,{active:"trash"===e.sidebar,onClick:t[2]||(t[2]=t=>e.sidebar="trash")},{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k,{name:"delete"}),e.minimizeSidebar?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(D,{key:0},{default:(0,r.w5)((()=>[h])),_:1}))])),_:1})])),_:1},8,["active"])])),_:1},8,["style","minimized"]),(0,r._)("div",v,[(0,r.Wm)(y,{color:"background"},{left:(0,r.w5)((()=>["documents"===e.sidebar?((0,r.wg)(),(0,r.j4)(d,{key:0,icon:"add_circle",size:"medium",style:{"margin-right":"0.5rem"},onClick:e.createDocument},{default:(0,r.w5)((()=>[g])),_:1},8,["onClick"])):(0,r.kq)("",!0),"documents"===e.sidebar?((0,r.wg)(),(0,r.j4)(d,{key:1,icon:"file_upload",size:"medium",color:"secondary",style:{"margin-right":"0.5rem"}},{default:(0,r.w5)((()=>[w])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(S,{outline:"",modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=t=>e.search=t),placeholder:`Search within ${e.sidebar}`},{prependInner:(0,r.w5)((()=>[(0,r.Wm)(k,{name:"search"})])),_:1},8,["modelValue","placeholder"])])),center:(0,r.w5)((()=>[])),right:(0,r.w5)((()=>[(0,r.Wm)(V,{size:"medium",outline:""},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{icon:"grid_view",disabled:"grid"===e.mode,onClick:t[4]||(t[4]=t=>e.mode="grid")},null,8,["disabled"]),(0,r.Wm)(d,{icon:"format_list_bulleted",disabled:"list"===e.mode,onClick:t[5]||(t[5]=t=>e.mode="list")},null,8,["disabled"])])),_:1})])),_:1}),(0,r.Wm)(Z,{documents:"documents"===e.sidebar?e.documents:e.trash,mode:e.mode,search:e.search,onUpdateDoc:t[6]||(t[6]=t=>e.updateDocument(t)),onDeleteDoc:t[7]||(t[7]=t=>e.trashDocument(t))},null,8,["documents","mode","search"])])])],4)}var y=a(6605),k=a(2528),D=a(4945),_=a(7318),C=a(5538),W=a(5341),S=a(6907),V=a(6730),Z=a(8729);const j={class:"documents"};function U(e,t,a,n,i,o){const d=(0,r.up)("DocumentGrid"),u=(0,r.up)("DocumentList");return(0,r.wg)(),(0,r.iD)("div",j,["grid"===e.mode?((0,r.wg)(),(0,r.j4)(d,{key:0,documents:e.filteredDocuments,onUpdateDoc:t[0]||(t[0]=t=>e.$emit("update-doc",t)),onDeleteDoc:t[1]||(t[1]=t=>e.$emit("delete-doc",t))},null,8,["documents"])):(0,r.kq)("",!0),"list"===e.mode?((0,r.wg)(),(0,r.j4)(u,{key:1,documents:e.filteredDocuments,onUpdateDoc:t[2]||(t[2]=t=>e.$emit("update-doc",t)),onDeleteDoc:t[3]||(t[3]=t=>e.$emit("delete-doc",t))},null,8,["documents"])):(0,r.kq)("",!0)])}const z={class:"document-grid"},A=(0,r.Uk)("Duplicate"),I=(0,r.Uk)("Delete");function T(e,t,a,i,o,d){const u=(0,r.up)("Avatar"),s=(0,r.up)("va-image"),c=(0,r.up)("va-card-title"),m=(0,r.up)("va-card-content"),f=(0,r.up)("va-button"),p=(0,r.up)("va-card-actions"),h=(0,r.up)("va-card");return(0,r.wg)(),(0,r.iD)("div",z,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.documents,(e=>((0,r.wg)(),(0,r.j4)(h,{key:e.key,class:"document-cell",to:`/document/${e.key}`},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{style:{height:"8rem"},src:e.image},{error:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"avatar",square:!0,size:500,name:e.key},null,8,["name"])])),_:2},1032,["src"]),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.dateUpdated),1)])),_:2},1024),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r._)("b",null,(0,l.zw)(e.name),1)])),_:2},1024),(0,r.Wm)(p,{align:"right"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{size:"small",flat:"",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["prevent"]))},{default:(0,r.w5)((()=>[A])),_:1}),(0,r.Wm)(f,{size:"small",flat:"",onClick:t[1]||(t[1]=(0,n.iM)((()=>{}),["prevent"]))},{default:(0,r.w5)((()=>[I])),_:1})])),_:1})])),_:2},1032,["to"])))),128))])}var x=a(3643),N=a(9681),L=(0,r.aZ)({name:"IntrigueDocumentGrid",components:{VaButton:_.Z,VaCard:x.ZP,VaCardTitle:x.hI,VaCardContent:x.dV,VaCardActions:x.jk,VaImage:N.Z,Avatar:Z.Z},props:{documents:Array},data(){return{}},methods:{},computed:{},watch:{}});const E=(0,o.Z)(L,[["render",T],["__scopeId","data-v-2021da65"]]);var O=E;const P=["contenteditable","onBlur","onClick"],B=(0,r.Uk)(" Delete ");function $(e,t,a,i,o,d){const u=(0,r.up)("Avatar"),s=(0,r.up)("va-avatar"),c=(0,r.up)("va-list-item-section"),m=(0,r.up)("va-button"),f=(0,r.up)("va-list-item-label"),p=(0,r.up)("va-icon"),h=(0,r.up)("va-list-item"),v=(0,r.up)("va-list");return(0,r.wg)(),(0,r.j4)(v,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.documents,(t=>((0,r.wg)(),(0,r.j4)(h,{key:t.id,to:{name:"document",params:{key:t.key,title:t.name}}},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{avatar:""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"avatar",name:t.key},null,8,["name"])])),_:2},1024)])),_:2},1024),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r._)("b",{style:{"margin-right":"0.5rem"},contenteditable:e.editingDocName===t.key,ref_for:!0,ref:`title${t.key}`,onBlur:a=>e.toggleEditTitle(t.id,t.key),onClick:a=>e.onTitleClicked(t.key,a)},(0,l.zw)(t.name),41,P),(0,r.Wm)(m,{flat:"",size:"small",icon:"edit",disabled:e.editingDocName===t.key,onClick:(0,n.iM)((a=>e.toggleEditTitle(t.id,t.key)),["prevent"])},null,8,["disabled","onClick"])])),_:2},1024),(0,r.Wm)(f,{caption:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" Last updated on "+(0,l.zw)(t.dateUpdated.toLocaleString()),1)])),_:2},1024)])),_:2},1024),(0,r.Wm)(c,{icon:""},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{flat:"",onClick:(0,n.iM)((a=>e.$emit("delete-doc",t.id)),["prevent"])},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{name:"delete",size:"small"}),B])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})}var q=a(6126),M=(0,r.aZ)({name:"IntrigueDocumentList",components:{VaButton:_.Z,VaList:q.ZP,VaListItem:q.RU,VaListItemLabel:q.Ii,VaListItemSection:q._4,VaAvatar:k.Z,VaIcon:D.Z,Avatar:Z.Z},props:{documents:Array},data(){return{editingDocName:null}},methods:{onTitleClicked(e,t){this.editingDocName===e&&t.preventDefault()},toggleEditTitle(e,t){const a=this.$refs[`title${t}`][0];console.log(a),this.editingDocName===t?(this.$emit("update-doc",{id:e,name:a.textContent}),this.editingDocName=null):(this.editingDocName=t,setTimeout((()=>{let e,t;a.focus(),window.getSelection&&document.createRange?(t=document.createRange(),t.selectNodeContents(a),e=window.getSelection(),e.removeAllRanges(),e.addRange(t)):document.body.createTextRange&&(t=document.body.createTextRange(),t.moveToElementText(a),t.select())}),0))}}});const R=(0,o.Z)(M,[["render",$],["__scopeId","data-v-4ecf585d"]]);var K=R,F=(0,r.aZ)({name:"IntrigueDocuments",components:{DocumentGrid:O,DocumentList:K},props:{documents:Array,mode:String,search:String},data(){return{}},methods:{},computed:{filteredDocuments(){return this.documents}},watch:{}});const G=(0,o.Z)(F,[["render",U],["__scopeId","data-v-54d66969"]]);var H=G,Y=a(7603),J=a(691);class Q extends Y.ZP{constructor(){super("IntrigueStorageDatabase"),this.version(1).stores({documents:"++id, key, name, dateCreated, dateUpdated, image",trash:"++id, key, name, dateCreated, dateUpdated, image",user:"++id, name, image"}),this.documents=this.table("documents"),this.trash=this.table("trash")}async getDocuments(){let e=await this.documents.orderBy("id").reverse().toArray();return e.map((e=>(e.dateCreated=new Date(e.dateCreated),e.dateUpdated=new Date(e.dateUpdated),e)))}async getTrash(){let e=await this.trash.orderBy("id").reverse().toArray();return e.map((e=>(e.dateCreated=new Date(e.dateCreated),e.dateUpdated=new Date(e.dateUpdated),e)))}async createDocument(){return this.documents.add({key:(0,J.x0)(),name:"Untitled",dateCreated:Date.now(),dateUpdated:Date.now(),image:""})}async updateDocument(e,t){return this.documents.update(e,t)}async trashDocument(e){const t=await this.documents.get(e);delete t.id,this.trash.add(t),this.documents.delete(e)}}var X=(0,r.aZ)({name:"HomeView",components:{Avatar:Z.Z,VaNavbar:y.Z,VaNavbarItem:y.n,VaAvatar:k.Z,VaIcon:D.Z,VaButton:_.Z,VaPopover:C.Z,VaInput:W.ZP,VaButtonGroup:S.Z,VaSidebar:V.ZP,VaSidebarItem:V.tK,VaSidebarItemTitle:V.oK,VaSidebarItemContent:V.L3,Documents:H},data(){return{isDark:!1,minimizeSidebar:!1,search:"",sidebar:"documents",mode:"list",documents:[],trash:[]}},created(){this.database=new Q,this.refreshDatabase()},methods:{async createDocument(){await this.database.createDocument(),await this.refreshDatabase()},async updateDocument(e){await this.database.updateDocument(e.id,e),await this.refreshDatabase()},async trashDocument(e){await this.database.trashDocument(e),await this.refreshDatabase()},async recoverDocument(){},async deleteDocument(){},async refreshDatabase(){this.documents=await this.database.getDocuments(),this.trash=await this.database.getTrash()}}});const ee=(0,o.Z)(X,[["render",b]]);var te=ee;const ae=[{path:"/",name:"home",component:te},{path:"/document/:key",name:"document",component:()=>a.e(857).then(a.bind(a,8169))}],ne=(0,c.p7)({history:(0,c.r5)(),routes:ae});var re=ne,ie=a(2625);a(3764);(0,n.ri)(s).use(re).use(ie.j).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var d=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[u])}))?n.splice(u--,1):(d=!1,i<o&&(o=i));if(d){e.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/document.723b9b8f.js"}}(),function(){a.miniCssF=function(e){return"css/document.fe07078a.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="intrigue-web:";a.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var d,u;if(void 0!==i)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var l=s[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){d=l;break}}d||(u=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.setAttribute("data-webpack",t+i),d.src=n),e[n]=[r];var m=function(t,a){d.onerror=d.onload=null,clearTimeout(f);var r=e[n];if(delete e[n],d.parentNode&&d.parentNode.removeChild(d),r&&r.forEach((function(e){return e(a)})),t)return t(a)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=m.bind(null,d.onerror),d.onload=m.bind(null,d.onload),u&&document.head.appendChild(d)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e=function(e,t,a,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)a();else{var o=i&&("load"===i.type?"missing":i.type),d=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+d+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=o,u.request=d,r.parentNode.removeChild(r),n(u)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){r=o[n],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise((function(r,i){var o=a.miniCssF(n),d=a.p+o;if(t(o,d))return r();e(n,d,r,i)}))},r={143:0};a.f.miniCss=function(e,t){var a={857:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=i);var o=a.p+a.u(t),d=new Error,u=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",d.name="ChunkLoadError",d.type=i,d.request=o,r[1](d)}};a.l(o,u,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],d=n[1],u=n[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(r in d)a.o(d,r)&&(a.m[r]=d[r]);if(u)var c=u(a)}for(t&&t(n);s<o.length;s++)i=o[s],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self["webpackChunkintrigue_web"]=self["webpackChunkintrigue_web"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5399)}));n=a.O(n)})();
//# sourceMappingURL=app.a840678d.js.map